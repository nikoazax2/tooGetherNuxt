(window.webpackJsonp=window.webpackJsonp||[]).push([[17,9],{1004:function(t,e,n){"use strict";n.r(e);var o=n(43),r=(n(129),n(688)),footer=n(704),c={name:"App",created:function(){},data:function(){return{messageInput:"",chargement:!0,aucunMess:!1,messages:[],activity:null}},components:{degouline:r.default,lefooter:footer.default},methods:{envoiMessage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("test"),e.next=3,t.$axios.post("".concat("http://dev-tgt.local:3001/api","/chats"),{userId:t.$auth.$state.user.id,message:t.messageInput,date:new Date,activityId:t.$route.params.id}).then((function(e){201==e.status&&(t.messageInput="",t.Read(),console.log("inséré"))}));case 3:case"end":return e.stop()}}),e)})))()},Read:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.chargement=!0,e.next=3,t.$axios.get("/chats/"+t.$route.params.id+"/chat");case 3:n=e.sent,t.messages=n.data.chats,t.activity=n.data.activity[0],console.log(t.activity),0==t.messages.length?t.aucunMess=!0:t.aucunMess=!1,t.chargement=!1;case 9:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.Read()}},l=(n(895),n(103)),d=n(284),m=n.n(d),h=n(715),f=n(816),v=n(691),x=n(849),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"chat"},[o("link",{attrs:{rel:"preconnect",href:"https://fonts.gstatic.com"}}),t._v(" "),o("link",{attrs:{rel:"preconnect",href:"https://fonts.gstatic.com"}}),t._v(" "),o("link",{attrs:{href:"https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap",rel:"stylesheet"}}),t._v(" "),o("degouline",{attrs:{id:"degoulinerecherche"}}),t._v(" "),o("div",{staticClass:"conteneurplanet"},[o("img",{staticClass:"planetquitourneinscription",staticStyle:{position:"absolute"},attrs:{src:n(689)}}),t._v(" "),t.chargement?t._e():o("v-card",{staticClass:"titrecard",attrs:{to:"/"}},[o("code",{staticClass:"emojiNotif jump",domProps:{innerHTML:t._s("<p>&#x1F"+t.activity.activity_emoji+";</p>")}}),t._v("\n      "+t._s(t.activity.activity_name)+"\n    ")])],1),t._v(" "),o("div",{staticClass:"containerbody"},[t.chargement||t.aucunMess?t._e():o("div",{staticClass:"body"},[o("div",{staticClass:"messages"},t._l(t.messages,(function(e,n){return o("div",{key:n,staticClass:"containermessage",class:{envoyeur:t.$auth.$state.user.id==e.userId}},[t.$auth.$state.user.id!=e.userId?o("div",{staticClass:"messavatar"},[o("div",{staticClass:"avatarmess"},[o("v-img",{staticClass:"elevation-6 imgavataracceuil",attrs:{alt:"",src:e.user_avatar}})],1),t._v(" "),o("div",{staticClass:"message"},[t._v("\n              "+t._s(e.chat_message)+"\n            ")])]):t._e(),t._v(" "),t.$auth.$state.user.id==e.userId?o("div",{staticClass:"messavatar"},[o("div",{staticClass:"message"},[t._v("\n              "+t._s(e.chat_message)+"\n            ")]),t._v(" "),o("div",{staticClass:"avatarmess"},[o("v-img",{staticClass:"elevation-6 imgavataracceuil",attrs:{alt:"",src:e.user_avatar}})],1)]):t._e()])})),0),t._v(" "),o("div",{staticClass:"inputmessage"},[o("v-text-field",{staticClass:"textfield",attrs:{outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[o("div",{on:{click:[function(t){t.stopPropagation()},t.envoiMessage]}},[t._v("ENVOYER")])]},proxy:!0}],null,!1,4027518453),model:{value:t.messageInput,callback:function(e){t.messageInput=e},expression:"messageInput"}})],1)])]),t._v(" "),!t.chargement&&t.aucunMess?o("div",{staticClass:"body bodyNomess"},[t.aucunMess?o("div",{staticClass:"nomess"},[t._v("\n      Sois le premier à engager la conversation "),o("br"),t._v("\n      pour organiser votre activité !\n    ")]):t._e(),t._v(" "),o("div",{staticClass:"inputmessage"},[o("v-text-field",{staticClass:"textfield",attrs:{outlined:""},scopedSlots:t._u([{key:"append",fn:function(){return[o("div",{on:{click:[function(t){t.stopPropagation()},t.envoiMessage]}},[t._v("ENVOYER")])]},proxy:!0}],null,!1,4027518453),model:{value:t.messageInput,callback:function(e){t.messageInput=e},expression:"messageInput"}})],1)]):t._e(),t._v(" "),t.chargement?o("div",{staticClass:"chargement"},[o("v-progress-circular",{attrs:{indeterminate:"",width:"7",size:"70",color:"#e92626"}})],1):t._e(),t._v(" "),o("lefooter")],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VCard:h.a,VImg:f.a,VProgressCircular:v.a,VTextField:x.a})},688:function(t,e,n){"use strict";n.r(e);var o=n(103),component=Object(o.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("svg",{attrs:{id:"Groupe_71","data-name":"Groupe 71",xmlns:"http://www.w3.org/2000/svg",width:"428",height:"350",viewBox:"0 0 428 350"}},[n("path",{attrs:{id:"Union_1","data-name":"Union 1",d:"M281.84,141.407s-25.264-47.612-72.3,0-71.333-22.761-71.333-22.761S111.978,54.1,69.847,99.623,0,92.255,0,92.255V0H428V56.739h0s0,.131,0,.378v4.24h0c-.006,12.028-.018,43.42,0,43.763.026.425,0,28.589-25.264,30.788-20.806-.66-30.763-34.087-65.909,5.5C325.109,154.6,315.1,159,306.95,159,290.659,159,281.84,141.407,281.84,141.407Z",transform:"translate(0 191)",fill:"#e92626"}}),t._v(" "),n("rect",{attrs:{id:"Rectangle_8","data-name":"Rectangle 8",width:"428",height:"199",fill:"#e92626"}})])])}),[],!1,null,null,null);e.default=component.exports},689:function(t,e,n){t.exports=n.p+"img/planetquitournerouge.2567f42.gif"},690:function(t,e,n){var content=n(698);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(154).default)("059b0f67",content,!0,{sourceMap:!1})},697:function(t,e,n){"use strict";n(690)},698:function(t,e,n){var o=n(153)(!1);o.push([t.i,'.lefooter{position:fixed;height:35px;background-color:#202023;bottom:-2px;left:0;right:0;margin-bottom:0;border-top-left-radius:10px;border-top-right-radius:10px;z-index:10000}.lefooter *{font-family:"Noto Sans",sans-serif}.lefooter .body{height:20px}.lefooter .conteneur{display:inline-flex;justify-content:space-evenly;height:100%;width:100%}.lefooter .conteneur div{display:flex;justify-content:center;align-items:center;height:100%;width:20%}.lefooter .conteneur i{color:#fff!important;font-size:20px!important}.lefooter .conteneur .selected{margin-top:-.5%;height:110%;background-color:#5a5a5a;border-top-left-radius:10px;border-top-right-radius:10px;padding:5px}.lefooter .conteneur .selected i{color:#ea2624!important}',""]),t.exports=o},704:function(t,e,n){"use strict";n.r(e);var o={name:"App",data:function(){return{routePos:""}},mounted:function(){this.routePos=this.$route.path},methods:{goto:function(t){this.$router.push(t)}},watch:{}},r=(n(697),n(103)),c=n(284),l=n.n(c),d=n(714),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lefooter"},[n("div",{staticClass:"conteneur"},[n("div",{staticClass:"myevents",class:{selected:"/myevents"==t.routePos},on:{click:function(e){return t.goto("/myevents")}}},[n("v-icon",[t._v("\n        mdi-account-group\n      ")])],1),t._v(" "),n("div",{staticClass:"chatSearch",class:{selected:"/chatSearch"==t.routePos},on:{click:function(e){return t.goto("/chatSearch")}}},[n("v-icon",[t._v("\n        mdi-message\n      ")])],1),t._v(" "),n("div",{staticClass:"acceuil",class:{selected:"/"==t.routePos},on:{click:function(e){return t.goto("/")}}},[n("v-icon",[t._v("\n        mdi-home\n      ")])],1),t._v(" "),n("div",{staticClass:"recherche",class:{selected:t.routePos.includes("recherchevent")},on:{click:function(e){return t.goto("/recherchevent")}}},[n("v-icon",[t._v("\n        mdi-search-web\n      ")])],1),t._v(" "),n("div",{staticClass:"myevents",class:{selected:"/map"==t.routePos},on:{click:function(e){return t.goto("/map")}}},[n("v-icon",[t._v("\n        mdi-map\n      ")])],1)])])}),[],!1,null,null,null);e.default=component.exports;l()(component,{VIcon:d.a})},854:function(t,e,n){var content=n(896);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(154).default)("04bc7e23",content,!0,{sourceMap:!1})},895:function(t,e,n){"use strict";n(854)},896:function(t,e,n){var o=n(153)(!1);o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap);"]),o.push([t.i,'*{font-family:"Noto Sans",sans-serif}#app{position:relative;height:100vh}.chat .containerbody{height:100vh;flex-direction:column-reverse;display:flex;padding-bottom:74px}.chat body{overflow:hidden}.chat .marker{width:30px;transform:translate(-50%,-90%)}.chat #degoulinerecherche>svg{margin-top:-10vh;width:100%;height:auto}.chat #degoulinerecherche{margin-top:-10%;width:100%;position:absolute}.chat .conteneurplanet{margin-top:-10%!important;width:100%}.chat .planetquitourneinscription{margin-top:-10%!important;height:20%;left:35%;width:33vw;height:33vw}.chat .titrecard{width:100vw;position:absolute;padding-top:20%;margin-top:0!important;background-color:transparent!important;box-shadow:unset!important;text-align:center}.chat .titrecard .v-card__title{font-weight:700;justify-content:center;color:#fff;padding-bottom:0!important;font-size:25px}.chat .titrecard .v-card__text{font-family:"Noto Sans",sans-serif;opacity:.7;color:#fff!important;font-size:12px}.chat .inputmessage{position:fixed;height:35px;bottom:70px;left:0;right:0;margin:10px 10px 0}.chat .inputmessage .textfield .v-input__append-inner{margin-top:40%;height:50px;margin:0!important}.chat .inputmessage .textfield .v-input__append-inner div{display:flex;align-items:center;color:#24acf2;font-size:12px;height:100%!important;margin:3px 0 0}.chat .body{height:74vh;width:100vw;padding-left:10px;padding-right:10px;display:flex;flex-direction:column-reverse;position:absolute;z-index:-10;overflow-y:scroll}.chat .body .chat{height:100%}.chat .body .messages{display:inline-block;margin-top:0;margin-bottom:0!important}.chat .body .messages .containermessage{width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;display:flex}.chat .body .messages .containermessage .message{background-color:#fff;border:2px solid red;color:#242424;float:left!important;border-radius:25px;font-size:12px;padding:10px;margin:0 10px 7px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.chat .body .messages .envoyeur{justify-content:right}.chat .body .messages .envoyeur .message{background-color:red;color:#fff;float:right!important;max-width:80vw;word-wrap:break-word}.chat .body.bodyNomess{display:flex;justify-content:center;text-align:center;align-items:center;color:red}.chat .body.bodyNomess .nomess{opacity:.8;font-size:14px}.chat .chargement{display:flex;justify-content:center;text-align:center;align-items:center;height:80vh}.chat .messavatar{display:inline-flex;align-items:end}.chat .messavatar .avatarmess{width:40px;transform:translateY(-7px)}.chat .emojiNotif{font-size:40px}.chat .jump{display:inline-block;-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-name:jump;animation-name:jump;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}@-webkit-keyframes jump{0%,to{transform:scaleX(1.1) translateY(0)}5%{transform:scale(1) translateY(-.4em)}15%{transform:scale(1.1,.9) translateY(-.5em)}25%{transform:scale(1) translateY(-.4em)}30%{transform:scale(1) translateY(0)}}@keyframes jump{0%,to{transform:scaleX(1.1) translateY(0)}5%{transform:scale(1) translateY(-.4em)}15%{transform:scale(1.1,.9) translateY(-.5em)}25%{transform:scale(1) translateY(-.4em)}30%{transform:scale(1) translateY(0)}}',""]),t.exports=o}}]);